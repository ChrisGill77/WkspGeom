<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=0.5, width=device-width" />
    <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *" />

    <title>Calculate aspects of common geometrical shapes</title>
    <script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="js/geometry.js"></script>
    <script type="text/javascript" src="cordova.js"></script>
	<link rel="stylesheet" type="text/css" href="css/appstyles.css">
</head>
<body>
	<form id="frmGeometry">
	<div id="mainForm">
	<div class="hdr">
		Workshop Geometry
		<div class="btns">
			<button type='button' id="btnCalc" class="btn">Calculate</button>
			<button type='button' id="btnClear" class="btn">Reset</button>
			<button type='button' id="btnHelp" class="btn">Help</button>
		</div>
	</div>
	<ul class="tabs">
		<li>
			<input name="fldType" type="radio" id="tab1" value="circle" class="tab-radio" checked>
			<label for="tab1" class="tab-label">Circles</label>
			<div id="frmCircle" class="tab-content">
				<table>
					<tr>
						<td><label for="fldRadius">Radius</label>, <label for="fldDiameter">diameter</label>:</td>
						<td><input id="fldRadius" type="number" min="0" value="0" title="Radius of circle"></td>
						<td><input id="fldDiameter" type="number" min="0" value="0" title="Diameter of circle"></td>
					</tr>
					<tr>
						<td><label for="fldCircum">Circumference</label>, <label for="fldCArea">area</label>:</td>
						<td><input id="fldCircum" type="number" min="0" value="0" title="Circumference of circle"></td>
						<td><input id="fldCArea" type="number" min="0" value="0" title="Area of circle"></td>
					</tr>
					<tr>
						<td><label for="fldSegAngle">Seg angle</label>, <label for="fldSegHeight">height</label>:</td>
						<td><input id="fldSegAngle" type="number" min="0" max="180" value="0" title="Angle of segment at the centre"></td>
						<td><input id="fldSegHeight" type="number" min="0" value="0" title="Distance from the centre to middle of the chord"></td>
					</tr>
					<tr>
						<td><label for="fldChordLen">Chord length</label>, <label for="fldChordDepth">depth</label>:</td>
						<td><input id="fldChordLen" type="number" min="0" value="0" title="Length of chord"></td>
						<td><input id="fldChordDepth" type="number" min="0" value="0" title="Distance from centre of chord to edge of circle"></td>
					</tr>
					<tr>
						<td><label for="fldSegArea">Segment</label>, <label for="fldChordArea">chord area</label>:</td>
						<td><input id="fldSegArea" type="text" readonly title="Area of segment"></td>
						<td><input id="fldChordArea" type="text" readonly title="Area of chord"></td>
					</tr>
				</table>
			</div>
		</li>

		<li>
			<input name="fldType" type="radio" id="tab2" value="polygon" class="tab-radio">
			<label for="tab2" class="tab-label">Polygons</label>
			<div id="frmPolygon" class="tab-content">
				<table>
					<tr>
						<td><label for="fldSides">Number of sides</label>:</td>
						<td><input id="fldSides" type="number" min="3" size="6" value="6" title="Number of sides"></td>
						<td></td>
					</tr>
					<tr>
						<td><label for="fldIntAng">Internal angle</label>:</td>
						<td><input id="fldIntAng" type="text" readonly title="Angle between adjacent sides"></td>
						<td>(between sides)</td>
					</tr>
					<tr>
						<td><label for="fldExtAng">Centre angle</label>:</td>
						<td><input id="fldExtAng" type="text" readonly title="Angle between adjacent diagonals"></td>
						<td></td>
					</tr>
					<tr>
						<td><label for="fldSideLen">Side length</label>:</td>
						<td><input id="fldSideLen" type="number" min="0" value="0" title="Length of each side"></td>
						<td></td>
					</tr>
					<tr>
						<td><label for="fldIntRad">Inner radius</label>, <label for="fldIntDia">diam</label>:</td>
						<td><input id="fldIntRad" type="number" min="0" value="0" title="Radius of inscribed circle"></td>
						<td><input id="fldIntDia" type="number" min="0" value="0" title="Diameter of inscribed circle"></td>
					</tr>
					<tr>
						<td><label for="fldExtRad">Outer radius</label>, <label for="fldExtDia">diam</label>:</td>
						<td><input id="fldExtRad" type="number" min="0" value="0" title="Radius of circumscribed circle"></td>
						<td><input id="fldExtDia" type="number" min="0" value="0" title="Diameter of circumscribed circle"></td>
					</tr>
					<tr>
						<td><label for="fldGHeight">Height</label>, <label for="fldGArea">area</label>:</td>
						<td><input id="fldGHeight" type="number" min="0" value="0" title="Overall height"></td>
						<td><input id="fldGArea" type="number" min="0" value="0" title="Total area"></td>
					</tr>
				</table>
			</div>
		</li>

		<li>
			<input name="fldType" type="radio" id="tab3" value="triangle" class="tab-radio">
			<label for="tab3" class="tab-label">Right triangles</label>
			<div id="frmTriangle" class="tab-content">
				<table>
					<tr>
						<td><label for="fldTriLen1">Side lengths</label>:</td>
						<td><input id="fldTriLen1" type="number" min="0" value="0" title="First side length"></td>
						<td><input id="fldTriLen2" type="number" min="0" value="0" title="Second side length"></td>
					</tr>
					<tr>
						<td><label for="fldTriLen3">Hypotenuse</label>:</td>
						<td><input id="fldTriLen3" type="number" min="0" value="0" title="Length of hypotenuse"></td>
						<td></td>
					</tr>
					<tr>
						<td><label for="fldTriAng1">Angles</label>:</td>
						<td><input id="fldTriAng1" type="number" min="0" max="90" value="0" title="First angle (opposite first side)"></td>
						<td><input id="fldTriAng2" type="number" min="0" max="90" value="0" title="Second angle (opposite second side)"></td>
					</tr>
					<tr>
						<td><label for="fldTriArea">Area</label>:</td>
						<td><input id="fldTriArea" type="number" min="0" value="0" title="Area of triangle"></td>
						<td></td>
					</tr>
				</table>
			</div>
		</li>

		<li>
			<input name="fldType" type="radio" id="tab4" value="rectangle" class="tab-radio">
			<label for="tab4" class="tab-label">Rectangles</label>
			<div id="frmRectangle" class="tab-content">
				<table>
					<tr>
						<td><label for="fldRecSide1">Side lengths</label>:</td>
						<td><input id="fldRecSide1" type="number" min="0" value="0" title="Length of first side"></td>
						<td><input id="fldRecSide2" type="number" min="0" value="0" title="Length of second side"></td>
					</tr>
					<tr>
						<td><label for="fldRecDiag">Diagonal</label>, <label for="fldRecArea">area</label>:</td>
						<td><input id="fldRecDiag" type="number" min="0" value="0" title="Length of diagonal"></td>
						<td><input id="fldRecArea" type="number" min="0" value="0" title="Area"></td>
					</tr>
				</table>
			</div>
		</li>
		
		<li>
			<input name="fldType" type="radio" id="tab5" value="pcd" class="tab-radio">
			<label for="tab5" class="tab-label">PCD</label>
			<div id="frmPCD" class="tab-content">
				<table>
					<tr>
						<td><label for="fldPcdDia">PCD</label>, <label for="fldPcdNum">count</label>:</td>
						<td><input id="fldPcdDia" type="number" min="0" value="0" title="Pitch circle diameter (PCD)"></td>
						<td><input id="fldPcdNum" type="number" min="0" step="1" value="0" title="Number of points"></td>
					</tr>
					<tr>
						<td><label for="fldPcdAng">Angle</label>, <label for="fldPcdSize">hole size</label>:</td>
						<td><input id="fldPcdAng" type="number" min="0" value="0" title="Angle between points"></td>
						<td><input id="fldPcdSize" type="number" min="0" value="0" title="Diameter of holes on PCD (may be zero)"></td>
					</tr>
					<tr>
						<td><label for="fldPcdCtr">Across centres</label>, <label for="fldPcdCheck">holes</label>:</td>
						<td><input id="fldPcdCtr" type="text" readonly title="Distance between hole centres"></td>
						<td><input id="fldPcdCheck" type="text" readonly title="Distance across adjacent holes"></td>
					</tr>
					<tr>
						<td>Coordinates:</td>
						<td colspan=2>
							<input name="fldCoord" type="radio" id="crdnone" value="none" checked><label for="crdnone">None</label>
							<input name="fldCoord" type="radio" id="crdcentre" value="centre"><label for="crdctr">Centre</label>
							<input name="fldCoord" type="radio" id="crdcorner" value="corner"><label for="crdcorner">Corner</label>
						</td>
					</tr>
				</table>
				<div id="crdList" hidden>
					Hole coordinates from selected reference:
					<p>
					<div id="crdTable"></div>
				</div>
			</div>
		</li>

		<li>
			<input name="fldType" type="radio" id="tab6" value="sine" class="tab-radio">
			<label for="tab6" class="tab-label">Sine</label>
			<div id="frmSine" class="tab-content">
				<table>
					<tr>
						<td><label for="fldSinHgt">Height</label>, <label for="fldSinLen">length</label>:</td>
						<td><input id="fldSinHgt" type="number" min="0" value="0" title="Height of sine bar"></td>
						<td><input id="fldSinLen" type="number" min="0" value="0" title="Length of sine bar"></td>
					</tr>
					<tr>
						<td><label for="fldSinAng">Angle</label>:</td>
						<td><input id="fldSinAng" type="number" min="0" value="0" title="Elevation angle"></td>
						<td></td>
					</tr>
				</table>
			</div>
		</li>

		<li>
			<input name="fldType" type="radio" id="tab7" value="length" class="tab-radio">
			<label for="tab7" class="tab-label">Length</label>
			<div id="frmLength" class="tab-content">
				<table>
					<tr>
						<td><label for="fldLenMm">mm</label>:</td>
						<td><input id="fldLenMm" type="number" min="0" value="0" title="Length in millimeters"></td>
						<td></td>
					</tr>
					<tr>
						<td><label for="fldLenIns">Inches</label>:</td>
						<td><input id="fldLenIns" type="number" min="0" value="0" title="Length in decimal inches"></td>
						<td></td>
					</tr>
					<tr>
						<td><label for="fldLenInf1">Inches</label>:</td>
						<td><input id="fldLenInf1" type="number" min="0" value="0" title="Length in whole inches">&nbsp;*&nbsp;</td>
						<td><input id="fldLenInf2" type="number" min="0" value="0" title="Numerator of fractional inches">&nbsp;/&nbsp;</td>
						<td><input id="fldLenInf3" type="number" min="0" value="1" title="Denominator of fractional inches"></td>
					</tr>
					<tr>
						<td><label for="fldLenErr">And</label>:</td>
						<td><input id="fldLenErr" type="text" readonly title="The fraction is too low (+) or too high (-) by this amount"></td>
						<td>thou</td>
					</tr>
				</table>
				<p>
				Note: 1/64" = 15.625 thou; 1mm = 39.37 thou
			</div>
		</li>
	</ul>
	</div>

	<!-- Help page -->
	<div id="helpForm" hidden>
	<div class="hdr">
		Workshop Geometry Help
		<div class="btns">
			<button type='button' id="btnBack" class="btn">Back</button>
		</div>
	</div>
	<div class="help">
The aim of this app is to perform geometrical calculations that might be useful in the workshop. It consists of six tabs for different shapes or type of calculation.
<p>
Fields with a grey background are not user-editable. As a general rule, only fields with a non-zero value are treated as inputs. Values can be entered to any precision but are calculated to 3 decimals.
</p><p>
Press the <b>CALCULATE</b> button to calculate the missing fields based on the supplied data. Press <b>RESET</b> to clear the fields on the current tab.
</p>
<h3>Circles Tab</h3>
This tab calculates aspects of circles, chords and segments. 
<p>
Required fields: Any one of the first four fields, which refer to the circle.
</p><p>
Optional fields: Any one of the second group of four fields, which refer to a segment of the circle.
</p>
Notes on fields:
<ul>
<li>Segment height is the distance from the centre of the circle to the centre of the chord</li>
<li>Chord depth is the distance from the perimeter to the centre of the chord</li>
<li>Segment area is the area of the triangular part of the segment (centre to chord)</li>
<li>Chord area is the area between the chord and the perimeter. The total segment area is the sum of these two</li>
</ul>
<h3>Polygons Tab</h3>
This section handles regular polygons such as triangles, squares, hexagons, etc.
<p>
Required fields: The number of sides (3 or more) and one other value.
</p>
Notes on fields:
<ul>
<li>Internal angle is the angle between adjacent faces measured at the vertex</li>
<li>Centre angle is the  angle between vertices measured at the centre. This is also the external angle between the  extension of one face and the adjacent face</li>
<li>Inner radius & diameter refer to the inscribed circle that touches the centre of each face. For a shape with an even number of sides, such as a hexagon, the inner diameter is the distance across flats</li>
<li>Outer radius & diameter refer to the superscribed circle that touches each vertex</li>
<li>Height is the overall height when one face is horizontal. For an even-numbered polygon it is the same as the inner diameter</li>
</ul>
<h3>Right Triangles Tab</h3>
This section deals with triangles containing a right angle. Equilateral triangles are handled by the Polygons section. Scalene triangles are generally the sum or difference of two right triangles and do not have a separate section.
<p>
Required fields: Any two fields
</p>
Notes on fields:
<ul>
<li>The first side is on the opposite side of the triangle to the first angle; likewise with the second side and angle</li>
</ul>
<h3>Rectangles Tab</h3>
This section deals with simple rectangles or squares. Squares are also handled by the Polygons section.
<p>
Required fields: Any two fields
</p>
<h3>PCD Tab</h3>
This section deals with pitch circle diameters, including the size of the holes.
<p>
Required fields: PCD and count or angle
</p><p>
Optional fields: hole size, coordinate reference
</p>
Notes on fields:
<ul>
<li>Across centres is the distance from one hole centre to the next, as would be set on compasses for marking out</li>
<li>Across holes is the distance from the edge of one hole to the opposite edge of the next as would be measured when checking</li>
</ul>
<p>
Selecting 'Centre' or 'Corner' makes the app calculate the coordinates of the holes with reference to the specified point:
<ul>
<li>Centre - the X and Y distances are from the centre of the PCD circle with the first hole directly above and the angle incrementing clockwise. Negative distances are below or to the left of the centre</li>
<li>Corner - the X and Y distances are from the top, left corner of the square containing the PCD circle. The first hole is in the middle of the top edge. Angles increment clockwise and are from the centre (not the corner)</li>
</ul>
<h3>Sine Tab</h3>
This section is a simplification of the Right Triangles section specifically for sine bars. The height and length do not need to be real lenghts but could be chosen to specify a gradient, such as 1 in 100, etc.
<p>
Required fields: Any two fields
</p>
<h3>Lengths tab</h3>
This section converts between millimeters and inches. Inches are entered or displayed in both decimal and fractional form.
<p>
Notes on fields:
<ul>
<li>Convert millimeters to inches - enter the length in mm. The app calculates the decimal inch equivalent and the nearest fraction (up to 64ths). If the fraction is low, a positive error is calculated. If it is too high the error is negative. For example, 4mm converts to 0.1575" and 1.2 thou over 5/32".</li>
<li>Convert inches to millimeters - enter the decimal inches. The app calculates the equivalent number of millimeters and the fractional inches as above. For example, 1.2" equates to 30.48mm and is 3.1 thou under 1.13/64".</li>
<li>Convert fractional inches to millimeters - enter whole numbers in all three fields. The app calculates millimeters and decimal inches.</li>
</ul>
</div>
	</form>
<script>
	window.onload = function()
    {
		document.addEventListener("deviceready", geometryCalcs.init(), false);
    }
</script>
</body>
</html>
